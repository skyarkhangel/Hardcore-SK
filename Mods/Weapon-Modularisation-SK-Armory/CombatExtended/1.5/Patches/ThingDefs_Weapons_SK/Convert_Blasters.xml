<?xml version="1.0" encoding="utf-8" ?>
<Patch>
<!-- PKD Pistol -->
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_Phalanx"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModCR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(-0.191,-0.1,-0.016)</postion>
						<scale>(0.75,0,0.75)</scale>
						<!-- <defultThing>Module_CR_Mag</defultThing> -->
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_CR_A2_Mag</li>
								<li>Module_CR_A3X_MagExt</li>
							</thingDefs>
						</filter>
						<!-- <randomThingDefWeights>
							<Module_CR_Mag>1</Module_CR_Mag>
							<Module_CR_MagExt>1</Module_CR_MagExt>
						</randomThingDefWeights> -->
					</li>
					<li>
						<id>ModCR_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.148,0.1,0.074)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModCR_Chamber</id>
						<name>capacitor</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_CR_Capacitor</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAP_Stock</id>
						<name>stock</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Stock</UITexPath>
						<postion>(-0.414,0.1,-0.172)</postion>
						<scale>(1,1,-1)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HvySMG_WireStock</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- Black Widow -->

	<Operation Class="PatchOperationAddModExtension">
		<xpath>Defs/ThingDef[defName="Gun_BlackWidow"]</xpath>
		<value>
		  <li Class="CombatExtended.GunDrawExtension">
			<DrawSize>1.4</DrawSize>
		  </li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_BlackWidow"]/graphicData</xpath>
		<value>
			<drawSize>(1.4,1.4)</drawSize>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_BlackWidow"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<!-- <TextureSizeFactor>256</TextureSizeFactor> -->
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModCR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<!-- <postion>(-0.38,-0.1,-0.035)</postion> -->
						<postion>(-0.0658,-0.1,0.0378)</postion>
						<scale>(0.84,0,0.84)</scale>
						<defultThing>Module_CR_A2_Mag</defultThing>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_CR_A2_Mag</li>
								<li>Module_CR_A3X_MagExt</li>
							</thingDefs>
						</filter><!--
						<randomThingDefWeights>
							<Module_CR_A2_Mag>0.7</Module_CR_A2_Mag>
							<Module_CR_A2_MagExt>0.3</Module_CR_A2_MagExt>
						</randomThingDefWeights>-->
					</li>
					<li>
						<id>ModCR_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.077,0.1,0.035)</postion>
						<scale>(1.05,0,1.05)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
								<li>Module_AdvSniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModCR_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<verbPropertiesObjectPatchByChildPart Default="false" />
						<allowEmpty>true</allowEmpty>
						<postion>(0.0315,0.1,-0.0097)</postion>
						<filter>
							<thingDefs>
								<li>Module_Bipod</li>
								<li>Module_UBGL</li>
								<li>Module_MasterKey</li>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
						<allowedExtraCompType>
							<li>CombatExtended.CompUnderBarrel</li>
							<li>CombatExtended.BipodComp</li>
						</allowedExtraCompType>
					</li>
					<li>
						<id>ModCR_Chamber</id>
						<name>capacitor</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_CR_Capacitor</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_AvengerA"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModCR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(-0.055,-0.1,0.078)</postion>
						<scale>(0.7,0,0.7)</scale>
						<!--<defultThing>Module_CR_Mag</defultThing>-->
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_CR_A2_MagExt_S</li>
								<li>Module_CR_A2_Mag_S</li>
								<li>Module_CR_A3X_MagExt_S</li>
							</thingDefs>
						</filter><!--
						<randomThingDefWeights>
							<Module_CR_MagExt_ARX>0.3</Module_CR_MagExt_ARX>
						</randomThingDefWeights>-->
					</li>
					<li>
						<id>ModCR_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(-0.027,0.1,0.129)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModCR_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<verbPropertiesObjectPatchByChildPart Default="false" />
						<allowEmpty>true</allowEmpty>
						<postion>(0.0,-0.1,-0.051)</postion>
						<scale>(0.8,0,0.8)</scale>
						<filter>
							<thingDefs>
								<li>Module_Bipod</li>
								<li>Module_UBGL</li>
								<li>Module_MasterKey</li>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
						<allowedExtraCompType>
							<li>CombatExtended.CompUnderBarrel</li>
							<li>CombatExtended.BipodComp</li>
						</allowedExtraCompType>
					</li>
					<li>
						<id>ModCR_Chamber</id>
						<name>capacitor</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_CR_Capacitor</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_Harrier"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModCR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(-0.305,-0.1,0.133)</postion>
						<!--<defultThing>Module_CR_Mag</defultThing>-->
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_CR_A2_Mag</li>
								<li>Module_CR_A3X_MagExt</li>
								<li>Module_CR_A2_MagExt</li>
							</thingDefs>
						</filter><!--
						<randomThingDefWeights>
							<Module_CR_A3_MagExt>0.3</Module_CR_A3_MagExt>
						</randomThingDefWeights>-->
					</li>
					<li>
						<id>ModCR_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.18,0.1,0.18)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModCR_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<verbPropertiesObjectPatchByChildPart Default="false" />
						<allowEmpty>true</allowEmpty>
						<postion>(0.066,0.1,0.043)</postion>
						<filter>
							<thingDefs>
								<li>Module_Bipod</li>
								<li>Module_UBGL</li>
								<li>Module_MasterKey</li>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
						<allowedExtraCompType>
							<li>CombatExtended.CompUnderBarrel</li>
							<li>CombatExtended.BipodComp</li>
						</allowedExtraCompType>
					</li>
					<li>
						<id>ModCR_Chamber</id>
						<name>capacitor</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_CR_Capacitor</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_Predator"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModCR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(-0.031,-0.1,0.082)</postion>
						<scale>(0.8,0,0.8)</scale>
						<!--<defultThing>Module_CR_Mag</defultThing>-->
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_CR_A2_Mag_S</li>
								<li>Module_CR_A3X_MagExt_S</li>
							</thingDefs>
						</filter><!--
						<randomThingDefWeights>
							<Module_CR_A3_MagExt>0.3</Module_CR_A3_MagExt>
						</randomThingDefWeights>-->
					</li>
					<li>
						<id>ModChainSG_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.156,-0.1,0.059)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModChainSG_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<verbPropertiesObjectPatchByChildPart Default="false" />
						<allowEmpty>true</allowEmpty>
						<postion>(0.05,-0.1,0)</postion>
						<filter>
							<thingDefs>
								<li>Module_UBGLLight</li>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModCR_Chamber</id>
						<name>capacitor</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_CR_Capacitor</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_Hurricane"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModCR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(0,-0.1,0.06)</postion>
						<defultThing>Module_CR_A2_Mag</defultThing>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_CR_A2_Mag</li>
								<li>Module_CR_A3X_MagExt</li>
							</thingDefs>
						</filter><!--
						<randomThingDefWeights>
							<Module_CR_A2_Mag>0.7</Module_CR_A2_Mag>
							<Module_CR_A2_MagExt>0.3</Module_CR_A2_MagExt>
						</randomThingDefWeights>-->
					</li>
					<li>
						<id>ModChainSG_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.08,-0.1,0.086)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModChainSG_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<verbPropertiesObjectPatchByChildPart Default="false" />
						<allowEmpty>true</allowEmpty>
						<postion>(0,0.1,-0.074)</postion>
						<filter>
							<thingDefs>
								<li>Module_UBGLLight</li>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModCR_Chamber</id>
						<name>capacitor</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_CR_Capacitor</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

</Patch>