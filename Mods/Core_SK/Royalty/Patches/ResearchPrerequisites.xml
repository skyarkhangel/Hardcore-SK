<?xml version="1.0" encoding="utf-8"?>
<Patch>

    <Operation Class="PatchOperationSequence">
        <operations>
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="Apparel_PackBroadshield"]/recipeMaker/researchPrerequisite</xpath>
                <value>
                    <researchPrerequisite>Fortification_E1</researchPrerequisite>
                </value>
            </li>
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[
                defName="Drape" or
                defName="Brazier" or
                defName="Throne"
                ]/researchPrerequisites</xpath>
                <value>
                    <researchPrerequisites>
                        <li>Construction_B1</li>
                    </researchPrerequisites>
                </value>
            </li>
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="GrandThrone"]/researchPrerequisites</xpath>
                <value>
                    <researchPrerequisites>
                        <li>Construction_B2</li>
                    </researchPrerequisites>
                </value>
            </li>
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ShipLandingBeacon"]/researchPrerequisites</xpath>
                <value>
                    <researchPrerequisites>
                        <li>Telecommunications_C1</li>
                    </researchPrerequisites>
                </value>
            </li>
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[
                defName="Apparel_Crown" or
                defName="Apparel_Coronet" or
                defName="Apparel_RobeRoyal"
                ]/recipeMaker/researchPrerequisite</xpath>
                <value>
                    <researchPrerequisite>RoyalApparel</researchPrerequisite>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[
                defName="Apparel_ShirtRuffle" or
                defName="Apparel_Corset" or
                defName="Apparel_VestRoyal" or
                defName="Apparel_HatLadies" or
                defName="Apparel_HatTop"
                ]</xpath>
                <value>
                    <recipeMaker>
                        <researchPrerequisite>NobleApparel</researchPrerequisite>
                    </recipeMaker>
                </value>
            </li>
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="Apparel_PackJump"]/recipeMaker/researchPrerequisite</xpath>
                <value>
                    <researchPrerequisite>JumpPack</researchPrerequisite>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[
                defName="Apparel_ArmorCataphractPrestige" or
                defName="Apparel_ArmorHelmetCataphractPrestige"
                ]</xpath>
                <value>
                    <recipeMaker>
                        <researchPrerequisite>CataphractArmor</researchPrerequisite>
                    </recipeMaker>
                </value>
            </li>
            <li Class="PatchOperationReplace">
                <xpath>Defs/TerrainDef[@Name="FineTileStoneBase"]/researchPrerequisites</xpath>
                <value>
                    <researchPrerequisites>
                        <li>Stone_floor_B3</li>
                    </researchPrerequisites>
                </value>
            </li>

            <li Class="PatchOperationAdd">
                <xpath>Defs/RecipeDef[
                    defName="InstallPsychicSensitizer" or
                    defName="InstallPsychicHarmonizer" or
                    defName="InstallPsychicReader" or
                    defName="InstallNeurocalculator" or
                    defName="InstallLearningAssistant" or
                    defName="InstallGastroAnalyzer" or
                    defName="InstallImmunoenhancer" or
                    defName="InstallCoagulator" or
                    defName="InstallHealingEnhancer" or
                    defName="InstallToughskinGland" or
                    defName="InstallArmorskinGland" or
                    defName="InstallStoneskinGland" or
                    defName="InstallAestheticShaper" or
                    defName="InstallAestheticNose" or
                    defName="InstallLoveEnhancer" or
                    defName="InstallDetoxifierStomach" or
                    defName="InstallReprocessorStomach" or
                    defName="InstallNuclearStomach" or
                    defName="InstallCircadianAssistant" or
                    defName="InstallCircadianHalfCycler" or
                    defName="InstallMindscrew" or
                    defName="InstallDrillArm" or
                    defName="InstallFieldHand" or
                    defName="InstallHandTalon" or
                    defName="InstallElbowBlade" or
                    defName="InstallKneeSpike" or
                    defName="InstallVenomFangs" or
                    defName="InstallVenomTalon" or

                    defName="RemovePsychicSensitizer" or
                    defName="RemovePsychicHarmonizer" or
                    defName="RemovePsychicReader" or
                    defName="RemoveNeurocalculator" or
                    defName="RemoveLearningAssistant" or
                    defName="RemoveGastroAnalyzer" or
                    defName="RemoveImmunoenhancer" or
                    defName="RemoveCoagulator" or
                    defName="RemoveHealingEnhancer" or
                    defName="RemoveToughskinGland" or
                    defName="RemoveArmorskinGland" or
                    defName="RemoveStoneskinGland" or
                    defName="RemoveAestheticShaper" or
                    defName="RemoveAestheticNose" or
                    defName="RemoveLoveEnhancer" or
                    defName="RemoveCircadianAssistant" or
                    defName="RemoveCircadianHalfCycler" or
                    defName="RemoveHandTalon" or
                    defName="RemoveElbowBlade" or
                    defName="RemoveKneeSpike" or
                    defName="RemoveVenomFangs" or
                    defName="RemoveVenomTalon"
                ]</xpath>
                <value>
                    <researchPrerequisite>Prosthesis_install_D4</researchPrerequisite>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/RecipeDef[
                defName="CureBloodRot" or
                defName="CureAbasia"
                ]</xpath>
                <value>
                    <researchPrerequisite>Heal_C3</researchPrerequisite>
                </value>
            </li>
        </operations>
    </Operation>
    
</Patch>